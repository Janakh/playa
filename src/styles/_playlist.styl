.playlist
  height "calc(100vh - %s - %s - %s)" % (size($tabsBarHeight) size($playbackBarHeight) size($footerHeight))
  overflow-y auto
  user-select none
  @media(max-width: 640px)
    &.sidebar-open
      .albums
        .album
          header
            .menu-link
              right 0
            .year
              opacity 0
              z-index -1
            .context-menu
              right 1rem

  .albums
    position relative
    .album
      height size($albumItemClosedHeight)
      vertical-align middle
      box-shadow inset 0 -1px rgba($mainColor, .1)
      position relative
      &.open
        height auto
      &:first-child
        box-shadow inset 0 -1px rgba($mainColor, .1), inset 0 1px rgba($mainColor, .1)
        .cover
          top 1px
      &:hover
        header
          background-color $albumHoverBackgroundColor
      &.selected
        header
          background-color $albumSelectedBackgroundColor
      &.playing
        header
          background-color $albumPlayingBackgroundColor
      &:hover,
      &.playing
        header
          .cover.loaded
            opacity 1
          .artist
            color $albumArtistColorPlaying
          .title
            color $albumArtistColor
          .menu-link
            opacity 1
      &.drag-over
        box-shadow inset 0 -1px rgba($mainColor, .1), inset 0 1px rgba($mainColor, .8)
      &.menuOpened
        .menu-link
          display inline-block
      header
        height size($albumItemClosedHeight)
        padding-top size($albumHeaderTopPadding)
        padding-left size($albumItemClosedHeight)
        overflow-x hidden
        transition background-color .1s ease-in
        .cover
          height 'calc(%s - %s)' % ( size($albumItemClosedHeight) 2px)
          width 'calc(%s - %s)' % ( size($albumItemClosedHeight) 2px)
          background-position center
          background-size cover
          background-color black
          position absolute
          top 0
          left 0
          opacity 0
          transition opacity .3s ease-in
          &.loaded
            opacity .7
        .artist
          color $albumArtistColor
          font-size size($albumArtistFontSize)
          vertical-align middle
          padding-left 1rem
          display inline-block
          max-width 80%
          transition color .3s ease-in
          ellipsed()
        .title
          font-size size($albumTitleFontSize)
          vertical-align middle
          padding-left 1rem
          display inline-block
          max-width 80%
          transition color .3s ease-in
          ellipsed()
        .year
          font-size size($albumDateFontSize)
          vertical-align middle
          margin-right 1rem
          position absolute
          right 0
          top size(($albumItemClosedHeight - $albumDateFontSize) * .5)
          opacity 1
          transition opacity .2s ease-in
        .menu-link
          margin-right 1rem
          position absolute
          right 3rem
          top size(($albumItemClosedHeight - $albumDateFontSize) * .5)
          border-radius 50%
          background-color $albumItemMenuLinkBgColor
          opacity 0
          transition opacity .2s ease-in
        .context-menu
          position absolute
          top 3.5rem
          right 4rem
          width size($albumContextMenuWidth)
          background-color $albumContextMenuBgColor
          border-radius .5rem
          line-height 2rem
          padding 0 1rem
          font-size .9rem
          z-index 1050
          margin 0
          padding 0
          li
            vertical-align middle
            box-shadow inset 0 -1px rgba($mainColor, .1)
            &:last-child
              box-shadow none
            a
              display block
              padding 0 1rem
              transition background-color .1s ease-in
              &:hover
                color $mainColor
                background-color lighten($albumContextMenuBgColor, 25%)

      .tracklist
        padding 0
        margin 0
        line-height size($albumTracklistLineHeight)
        font-size size($albumTracklistFontSize)
        .disc-number
          color $albumArtistColor
          font-size .9rem
          padding-left 6.4rem
        .track
          &:nth-child(odd)
            background-color rgba(white, .03)
          &:nth-child(even)
            background-color rgba(white, .07)
          &:hover
            background-color rgba(white, .08)
          &.selected
            background-color rgba(white, .09)
          &.playing
            background-color rgba(white, .1)
          .track-artist
            color $albumArtistColor
          .separator
            margin 0 .5rem
            &:after
              content 'Â·'
          .track-playing-indicator
            width 1.2rem
            text-align center
            display inline-block
            margin-left 1.5rem
          .track-number
            width 1.2rem
            text-align right
            margin 0 1rem 0 0
            display inline-block
          .track-duration
            float right
            margin-right 1rem
